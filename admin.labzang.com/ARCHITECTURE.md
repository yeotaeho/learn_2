# í”„ë¡œì íŠ¸ ì•„í‚¤í…ì²˜ ë° í”Œë¡œìš°

## ëª©ì°¨
1. [ì „ì²´ ì•„í‚¤í…ì²˜](#ì „ì²´-ì•„í‚¤í…ì²˜)
2. [IIFE íŒ¨í„´ êµ¬ì¡°](#iife-íŒ¨í„´-êµ¬ì¡°)
3. [ë ˆì´ì–´ êµ¬ì¡°](#ë ˆì´ì–´-êµ¬ì¡°)
4. [í”Œë¡œìš° ë‹¤ì´ì–´ê·¸ë¨](#í”Œë¡œìš°-ë‹¤ì´ì–´ê·¸ë¨)
5. [ì½”ë“œ ì „ëµ](#ì½”ë“œ-ì „ëµ)
6. [í™•ì¥ ê°€ì´ë“œ](#í™•ì¥-ê°€ì´ë“œ)

---

## ì „ì²´ ì•„í‚¤í…ì²˜

### ì‹œìŠ¤í…œ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Frontend (Next.js)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  app/page.tsx                                            â”‚
â”‚  â”œâ”€ ì†Œì…œ ë¡œê·¸ì¸ ë²„íŠ¼ (êµ¬ê¸€, ì¹´ì¹´ì˜¤, ë„¤ì´ë²„)                â”‚
â”‚  â”œâ”€ ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ë¡œê·¸ì¸ í¼                             â”‚
â”‚  â””â”€ createSocialLoginHandlers ì‚¬ìš©                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  service/mainservice.ts (IIFE íŒ¨í„´)                     â”‚
â”‚  â”œâ”€ Private: gatewayUrl, handleLogin, handleEmailLogin  â”‚
â”‚  â””â”€ Public: íŒ©í† ë¦¬ í•¨ìˆ˜ (í•¸ë“¤ëŸ¬ ìƒì„±)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Backend (Spring Gateway)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  /auth/google/login  â†’ êµ¬ê¸€ OAuth URL ë°˜í™˜               â”‚
â”‚  /auth/kakao/login   â†’ ì¹´ì¹´ì˜¤ OAuth URL ë°˜í™˜             â”‚
â”‚  /auth/naver/login   â†’ ë„¤ì´ë²„ OAuth URL ë°˜í™˜             â”‚
â”‚  /api/auth/login     â†’ ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ë¡œê·¸ì¸             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              OAuth Providers / User Service              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Google OAuth2                                           â”‚
â”‚  Kakao OAuth2                                            â”‚
â”‚  Naver OAuth2                                            â”‚
â”‚  User Service (ì¸ì¦ ì²˜ë¦¬)                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## IIFE íŒ¨í„´ êµ¬ì¡°

### ì½”ë“œ êµ¬ì¡°

```typescript
export const createSocialLoginHandlers = (() => {
    // â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    // â”‚  IIFE ë‚´ë¶€ (Private ìŠ¤ì½”í”„)              â”‚
    // â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
    // 1. ê³µí†µ ì„¤ì • (Private)
    const gatewayUrl = process.env.NEXT_PUBLIC_GATEWAY_URL || 'http://localhost:8080';
    
    // 2. Private í—¬í¼ í•¨ìˆ˜ë“¤
    async function handleLogin(provider, setIsLoading, setError) {
        // ì†Œì…œ ë¡œê·¸ì¸ ê³µí†µ ë¡œì§
    }
    
    async function handleEmailLogin(email, password, setIsLoading, setError, onSuccess) {
        // ì´ë©”ì¼ ë¡œê·¸ì¸ ë¡œì§
    }
    
    // â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    // â”‚  Public API (íŒ©í† ë¦¬ í•¨ìˆ˜)                â”‚
    // â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
    return (setters...) => {
        // 3. ì´ë„ˆ í•¨ìˆ˜ë“¤ (í•¨ìˆ˜ ì„ ì–¸ì‹)
        function handleGoogleLogin() {
            handleLogin('google', setIsGoogleLoading, setError);
        }
        
        function handleKakaoLogin() {
            handleLogin('kakao', setIsKakaoLoading, setError);
        }
        
        function handleNaverLogin() {
            handleLogin('naver', setIsNaverLoading, setError);
        }
        
        function handleEmailPasswordLogin(email, password, onSuccess) {
            handleEmailLogin(email, password, setIsLoading, setError, onSuccess);
        }
        
        // 4. í•¸ë“¤ëŸ¬ ê°ì²´ ë°˜í™˜
        return {
            handleGoogleLogin,
            handleKakaoLogin,
            handleNaverLogin,
            handleEmailPasswordLogin,
        };
    };
})(); // ì¦‰ì‹œ ì‹¤í–‰
```

### IIFE íŒ¨í„´ì˜ ì¥ì 

1. **ìº¡ìŠí™”**: Private ë³€ìˆ˜ì™€ í•¨ìˆ˜ê°€ ì™¸ë¶€ì—ì„œ ì ‘ê·¼ ë¶ˆê°€
2. **ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë³´í˜¸**: ì „ì—­ ìŠ¤ì½”í”„ ì˜¤ì—¼ ë°©ì§€
3. **í´ë¡œì € í™œìš©**: Private ë³€ìˆ˜ë¥¼ ì´ë„ˆ í•¨ìˆ˜ì—ì„œ ì ‘ê·¼
4. **ì‹±ê¸€í†¤ íŒ¨í„´**: í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ì–´ ì„¤ì • ê³µìœ 

---

## ë ˆì´ì–´ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 1: IIFE Private ìŠ¤ì½”í”„                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”œâ”€ gatewayUrl (ê³µí†µ ì„¤ì •)                               â”‚
â”‚  â”‚   â””â”€ ëª¨ë“  API í˜¸ì¶œì—ì„œ ì‚¬ìš©                           â”‚
â”‚  â”‚                                                        â”‚
â”‚  â”œâ”€ handleLogin (ì†Œì…œ ë¡œê·¸ì¸ ê³µí†µ ë¡œì§)                   â”‚
â”‚  â”‚   â”œâ”€ provider íŒŒë¼ë¯¸í„°ë¡œ êµ¬ê¸€/ì¹´ì¹´ì˜¤/ë„¤ì´ë²„ êµ¬ë¶„       â”‚
â”‚  â”‚   â”œâ”€ POST /auth/{provider}/login                     â”‚
â”‚  â”‚   â”œâ”€ authUrl ë°›ì•„ì„œ ë¦¬ë‹¤ì´ë ‰íŠ¸                        â”‚
â”‚  â”‚   â””â”€ ì—ëŸ¬ ì²˜ë¦¬ ë° ë¡œë”© ìƒíƒœ ê´€ë¦¬                       â”‚
â”‚  â”‚                                                        â”‚
â”‚  â””â”€ handleEmailLogin (ì´ë©”ì¼ ë¡œê·¸ì¸ ë¡œì§)                 â”‚
â”‚      â”œâ”€ POST /api/auth/login                            â”‚
â”‚      â”œâ”€ ì„±ê³µ ì‹œ onSuccess ì½œë°± ì‹¤í–‰                      â”‚
â”‚      â””â”€ ì—ëŸ¬ ì²˜ë¦¬ ë° ë¡œë”© ìƒíƒœ ê´€ë¦¬                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 2: íŒ©í† ë¦¬ í•¨ìˆ˜ (Public API)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â””â”€ (setters...) => { ... }                             â”‚
â”‚      â”œâ”€ ì»´í¬ë„ŒíŠ¸ì˜ state setterë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ìŒ         â”‚
â”‚      â””â”€ í•¸ë“¤ëŸ¬ ê°ì²´ ìƒì„± ë° ë°˜í™˜                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 3: ì´ë„ˆ í•¨ìˆ˜ë“¤ (í•¨ìˆ˜ ì„ ì–¸ì‹)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”œâ”€ handleGoogleLogin()                                 â”‚
â”‚  â”‚   â””â”€ handleLogin('google', ...) í˜¸ì¶œ                 â”‚
â”‚  â”‚                                                        â”‚
â”‚  â”œâ”€ handleKakaoLogin()                                  â”‚
â”‚  â”‚   â””â”€ handleLogin('kakao', ...) í˜¸ì¶œ                  â”‚
â”‚  â”‚                                                        â”‚
â”‚  â”œâ”€ handleNaverLogin()                                  â”‚
â”‚  â”‚   â””â”€ handleLogin('naver', ...) í˜¸ì¶œ                  â”‚
â”‚  â”‚                                                        â”‚
â”‚  â””â”€ handleEmailPasswordLogin(email, password, onSuccess)â”‚
â”‚      â””â”€ handleEmailLogin(...) í˜¸ì¶œ                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 4: ì»´í¬ë„ŒíŠ¸ (app/page.tsx)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â””â”€ useMemoë¡œ í•¸ë“¤ëŸ¬ ìƒì„±                                â”‚
â”‚      â””â”€ ë²„íŠ¼ onClickì— í•¸ë“¤ëŸ¬ ì—°ê²°                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## í”Œë¡œìš° ë‹¤ì´ì–´ê·¸ë¨

### 1. ì†Œì…œ ë¡œê·¸ì¸ í”Œë¡œìš° (êµ¬ê¸€ ì˜ˆì‹œ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. ì‚¬ìš©ì ì•¡ì…˜                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
              ì‚¬ìš©ìê°€ "êµ¬ê¸€ë¡œ ì‹œì‘í•˜ê¸°" ë²„íŠ¼ í´ë¦­
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. ì»´í¬ë„ŒíŠ¸ (app/page.tsx)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  onClick={onGoogleLogin}                                â”‚
â”‚  â””â”€ onGoogleLogin = handleGoogleLogin (from service)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. ì´ë„ˆ í•¨ìˆ˜ ì‹¤í–‰ (service/mainservice.ts)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  function handleGoogleLogin() {                         â”‚
â”‚      handleLogin('google', setIsGoogleLoading, setError)â”‚
â”‚  }                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. Private í—¬í¼ í•¨ìˆ˜ ì‹¤í–‰                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  async function handleLogin(provider, ...) {            â”‚
â”‚      setIsGoogleLoading(true)  // ë¡œë”© ì‹œì‘              â”‚
â”‚      setError('')              // ì—ëŸ¬ ì´ˆê¸°í™”            â”‚
â”‚                                                          â”‚
â”‚      const response = await fetch(                      â”‚
â”‚          `${gatewayUrl}/auth/google/login`,            â”‚
â”‚          { method: 'POST', ... }                        â”‚
â”‚      )                                                   â”‚
â”‚  }                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. Backend API í˜¸ì¶œ                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  POST http://localhost:8080/auth/google/login          â”‚
â”‚                                                          â”‚
â”‚  Response:                                               â”‚
â”‚  {                                                       â”‚
â”‚      "success": true,                                   â”‚
â”‚      "message": "êµ¬ê¸€ ë¡œê·¸ì¸ URL ìƒì„± ì„±ê³µ",              â”‚
â”‚      "authUrl": "https://accounts.google.com/..."      â”‚
â”‚  }                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  6. ì‘ë‹µ ì²˜ë¦¬ ë° ë¦¬ë‹¤ì´ë ‰íŠ¸                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  if (data.success && data.authUrl) {                    â”‚
â”‚      window.location.href = data.authUrl;  // êµ¬ê¸€ë¡œ ì´ë™â”‚
â”‚  } else {                                                â”‚
â”‚      setError('êµ¬ê¸€ ë¡œê·¸ì¸ URLì„ ë°›ì•„ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.')     â”‚
â”‚      setIsGoogleLoading(false)                          â”‚
â”‚  }                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  7. êµ¬ê¸€ OAuth í˜ì´ì§€                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ì‚¬ìš©ìê°€ êµ¬ê¸€ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸                            â”‚
â”‚  â””â”€ ê¶Œí•œ ìŠ¹ì¸                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  8. Callback ì²˜ë¦¬ (Backend)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Backendê°€ êµ¬ê¸€ë¡œë¶€í„° ì¸ì¦ ì½”ë“œ ë°›ìŒ                      â”‚
â”‚  â””â”€ í† í° ìƒì„± ë° /dashboard?token=xxx ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  9. Dashboard í˜ì´ì§€                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  app/dashboard/page.tsx                                 â”‚
â”‚  â”œâ”€ URLì—ì„œ token ì¶”ì¶œ                                   â”‚
â”‚  â”œâ”€ localStorageì— ì €ì¥                                  â”‚
â”‚  â”œâ”€ ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ                                      â”‚
â”‚  â””â”€ ë¡œê·¸ì¸ ì„±ê³µ í™”ë©´ í‘œì‹œ                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ë¡œê·¸ì¸ í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. ì‚¬ìš©ì ì•¡ì…˜                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
          ì‚¬ìš©ìê°€ ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í›„ "ë¡œê·¸ì¸" ë²„íŠ¼ í´ë¦­
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. ì»´í¬ë„ŒíŠ¸ (app/page.tsx)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  const handleSubmit = (e) => {                          â”‚
â”‚      e.preventDefault();                                â”‚
â”‚      handleEmailPasswordLogin(                          â”‚
â”‚          email,                                         â”‚
â”‚          password,                                      â”‚
â”‚          () => router.push('/dashboard')               â”‚
â”‚      );                                                 â”‚
â”‚  }                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. ì´ë„ˆ í•¨ìˆ˜ ì‹¤í–‰ (service/mainservice.ts)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  function handleEmailPasswordLogin(email, password, ...) â”‚
â”‚      handleEmailLogin(email, password, ...)             â”‚
â”‚  }                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. Private í—¬í¼ í•¨ìˆ˜ ì‹¤í–‰                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  async function handleEmailLogin(...) {                 â”‚
â”‚      setIsLoading(true)                                 â”‚
â”‚      setError('')                                       â”‚
â”‚                                                          â”‚
â”‚      const response = await fetch(                      â”‚
â”‚          `${gatewayUrl}/api/auth/login`,               â”‚
â”‚          {                                              â”‚
â”‚              method: 'POST',                            â”‚
â”‚              body: JSON.stringify({ email, password }) â”‚
â”‚          }                                              â”‚
â”‚      )                                                   â”‚
â”‚  }                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. Backend API í˜¸ì¶œ                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  POST http://localhost:8080/api/auth/login             â”‚
â”‚                                                          â”‚
â”‚  Request Body:                                           â”‚
â”‚  {                                                       â”‚
â”‚      "email": "user@example.com",                       â”‚
â”‚      "password": "password123"                          â”‚
â”‚  }                                                       â”‚
â”‚                                                          â”‚
â”‚  Response:                                               â”‚
â”‚  - ì„±ê³µ: 200 OK (ì¿ í‚¤ì— ì„¸ì…˜ ì €ì¥)                        â”‚
â”‚  - ì‹¤íŒ¨: 401 Unauthorized                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  6. ì‘ë‹µ ì²˜ë¦¬                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  if (response.ok) {                                      â”‚
â”‚      onSuccess()  // router.push('/dashboard') ì‹¤í–‰      â”‚
â”‚  } else {                                                â”‚
â”‚      const data = await response.json()                 â”‚
â”‚      setError(data.message || 'ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.')    â”‚
â”‚  }                                                       â”‚
â”‚  setIsLoading(false)                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  7. Dashboard í˜ì´ì§€ë¡œ ì´ë™                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ì½”ë“œ ì „ëµ

### 1. í´ë¡œì € í™œìš©

**Private ë³€ìˆ˜ë¥¼ í´ë¡œì €ë¡œ ìº¡ì²˜:**

```typescript
const gatewayUrl = 'http://localhost:8080'; // Private

return (setters) => {
    function handleGoogleLogin() {
        // gatewayUrl ì ‘ê·¼ ê°€ëŠ¥ (í´ë¡œì €)
        fetch(`${gatewayUrl}/auth/google/login`);
    }
};
```

**ì¥ì :**
- `gatewayUrl`ì„ í•œ ë²ˆë§Œ ì •ì˜
- ëª¨ë“  í•¸ë“¤ëŸ¬ê°€ ê³µìœ 
- ì™¸ë¶€ì—ì„œ ë³€ê²½ ë¶ˆê°€

### 2. ê³µí†µ ë¡œì§ ì¶”ì¶œ

**ì¤‘ë³µ ì œê±°:**

```typescript
// âŒ Before: ì¤‘ë³µ ì½”ë“œ
function handleGoogleLogin() {
    setIsLoading(true);
    fetch('/auth/google/login');
    // ... ë™ì¼í•œ ë¡œì§ ë°˜ë³µ
}

function handleKakaoLogin() {
    setIsLoading(true);
    fetch('/auth/kakao/login');
    // ... ë™ì¼í•œ ë¡œì§ ë°˜ë³µ
}

// âœ… After: ê³µí†µ ë¡œì§ ì¶”ì¶œ
function handleLogin(provider, setIsLoading, setError) {
    setIsLoading(true);
    fetch(`/auth/${provider}/login`);
    // ... ê³µí†µ ë¡œì§
}

function handleGoogleLogin() {
    handleLogin('google', setIsGoogleLoading, setError);
}

function handleKakaoLogin() {
    handleLogin('kakao', setIsKakaoLoading, setError);
}
```

### 3. í•¨ìˆ˜ ì„ ì–¸ì‹ ì‚¬ìš©

**ì´ë„ˆ í•¨ìˆ˜ëŠ” í•¨ìˆ˜ ì„ ì–¸ì‹:**

```typescript
// âœ… í•¨ìˆ˜ ì„ ì–¸ì‹
function handleGoogleLogin() {
    handleLogin('google', ...);
}

// âŒ í™”ì‚´í‘œ í•¨ìˆ˜ (ëŒë‹¤)
const handleGoogleLogin = () => {
    handleLogin('google', ...);
};
```

**í•¨ìˆ˜ ì„ ì–¸ì‹ì˜ ì¥ì :**
- í˜¸ì´ìŠ¤íŒ…ìœ¼ë¡œ ìˆœì„œì— ëœ ë¯¼ê°
- ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ì— í•¨ìˆ˜ ì´ë¦„ í‘œì‹œ
- ë””ë²„ê¹… ìš©ì´

### 4. ì˜ì¡´ì„± ì£¼ì… íŒ¨í„´

**íŒ©í† ë¦¬ í•¨ìˆ˜ë¡œ setter ì£¼ì…:**

```typescript
// ì»´í¬ë„ŒíŠ¸ì—ì„œ setterë¥¼ ì£¼ì…
const handlers = createSocialLoginHandlers(
    setIsGoogleLoading,
    setIsKakaoLoading,
    setIsNaverLoading,
    setIsLoading,
    setError
);

// í•¸ë“¤ëŸ¬ëŠ” ì£¼ì…ë°›ì€ setter ì‚¬ìš©
function handleGoogleLogin() {
    setIsGoogleLoading(true);  // ì£¼ì…ë°›ì€ setter
}
```

**ì¥ì :**
- ì»´í¬ë„ŒíŠ¸ stateì™€ ë¶„ë¦¬
- í…ŒìŠ¤íŠ¸ ì‹œ mock setter ì£¼ì… ê°€ëŠ¥
- ì¬ì‚¬ìš©ì„± í–¥ìƒ

### 5. useMemoë¡œ ìµœì í™”

**ë¶ˆí•„ìš”í•œ ì¬ìƒì„± ë°©ì§€:**

```typescript
const handlers = useMemo(
    () => createSocialLoginHandlers(setters...),
    [setters...]  // setterê°€ ë³€ê²½ë  ë•Œë§Œ ì¬ìƒì„±
);
```

---

## í™•ì¥ ê°€ì´ë“œ

### ìƒˆë¡œìš´ ì†Œì…œ ë¡œê·¸ì¸ ì¶”ê°€ (ì˜ˆ: GitHub)

#### 1. Backend API ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€
```
POST /auth/github/login
```

#### 2. mainservice.ts ìˆ˜ì •

```typescript
// 1. handleLogin í•¨ìˆ˜ì˜ provider íƒ€ì…ì— ì¶”ê°€
async function handleLogin(
    provider: 'google' | 'kakao' | 'naver' | 'github',  // 'github' ì¶”ê°€
    setIsLoading: (loading: boolean) => void,
    setError: (error: string) => void
) {
    // ... ê¸°ì¡´ ë¡œì§ (ìˆ˜ì • ë¶ˆí•„ìš”)
}

// 2. íŒ©í† ë¦¬ í•¨ìˆ˜ íŒŒë¼ë¯¸í„°ì— setter ì¶”ê°€
return (
    setIsGoogleLoading: (loading: boolean) => void,
    setIsKakaoLoading: (loading: boolean) => void,
    setIsNaverLoading: (loading: boolean) => void,
    setIsGithubLoading: (loading: boolean) => void,  // ì¶”ê°€
    setIsLoading: (loading: boolean) => void,
    setError: (error: string) => void
) => {
    // ... ê¸°ì¡´ í•¸ë“¤ëŸ¬ë“¤
    
    // 3. ìƒˆë¡œìš´ í•¸ë“¤ëŸ¬ ì¶”ê°€
    function handleGithubLogin() {
        handleLogin('github', setIsGithubLoading, setError);
    }
    
    // 4. return ê°ì²´ì— ì¶”ê°€
    return {
        handleGoogleLogin,
        handleKakaoLogin,
        handleNaverLogin,
        handleGithubLogin,  // ì¶”ê°€
        handleEmailPasswordLogin,
    };
};
```

#### 3. ì»´í¬ë„ŒíŠ¸ ìˆ˜ì • (app/page.tsx)

```typescript
// 1. state ì¶”ê°€
const [isGithubLoading, setIsGithubLoading] = useState(false);

// 2. í•¸ë“¤ëŸ¬ ìƒì„± ì‹œ setter ì „ë‹¬
const { 
    handleGoogleLogin: onGoogleLogin,
    handleKakaoLogin: onKakaoLogin,
    handleNaverLogin: onNaverLogin,
    handleGithubLogin: onGithubLogin,  // ì¶”ê°€
    handleEmailPasswordLogin 
} = useMemo(
    () => createSocialLoginHandlers(
        setIsGoogleLoading,
        setIsKakaoLoading,
        setIsNaverLoading,
        setIsGithubLoading,  // ì¶”ê°€
        setIsLoading,
        setError
    ),
    [setIsGoogleLoading, setIsKakaoLoading, setIsNaverLoading, setIsGithubLoading, setIsLoading, setError]
);

// 3. ë²„íŠ¼ ì¶”ê°€
<button onClick={onGithubLogin} disabled={isGithubLoading || ...}>
    GitHubë¡œ ì‹œì‘í•˜ê¸°
</button>
```

### ìƒˆë¡œìš´ ë¡œê·¸ì¸ ë°©ì‹ ì¶”ê°€ (ì˜ˆ: ì „í™”ë²ˆí˜¸ ì¸ì¦)

#### 1. mainservice.tsì— í—¬í¼ í•¨ìˆ˜ ì¶”ê°€

```typescript
// Private í—¬í¼ í•¨ìˆ˜ ì¶”ê°€
async function handlePhoneLogin(
    phoneNumber: string,
    verificationCode: string,
    setIsLoading: (loading: boolean) => void,
    setError: (error: string) => void,
    onSuccess: () => void
) {
    try {
        setIsLoading(true);
        setError('');
        
        const response = await fetch(`${gatewayUrl}/api/auth/phone`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            credentials: 'include',
            body: JSON.stringify({ phoneNumber, verificationCode }),
        });
        
        if (response.ok) {
            onSuccess();
        } else {
            const data = await response.json();
            setError(data.message || 'ì „í™”ë²ˆí˜¸ ì¸ì¦ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
        }
    } catch (err) {
        setError('ì„œë²„ ì—°ê²°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
    } finally {
        setIsLoading(false);
    }
}

// íŒ©í† ë¦¬ í•¨ìˆ˜ì— ì´ë„ˆ í•¨ìˆ˜ ì¶”ê°€
function handlePhoneNumberLogin(phoneNumber: string, code: string, onSuccess: () => void) {
    handlePhoneLogin(phoneNumber, code, setIsLoading, setError, onSuccess);
}

// return ê°ì²´ì— ì¶”ê°€
return {
    // ... ê¸°ì¡´ í•¸ë“¤ëŸ¬ë“¤
    handlePhoneNumberLogin,
};
```

---

## ë””ë²„ê¹… ê°€ì´ë“œ

### 1. ë¡œê·¸ì¸ ì‹¤íŒ¨ ì‹œ

**í™•ì¸ ì‚¬í•­:**
1. ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì—ëŸ¬ ë©”ì‹œì§€ í™•ì¸
2. Network íƒ­ì—ì„œ API ì‘ë‹µ í™•ì¸
3. Backend ë¡œê·¸ í™•ì¸

**ì¼ë°˜ì ì¸ ì—ëŸ¬:**

```typescript
// 1. CORS ì—ëŸ¬
// â†’ Backendì—ì„œ CORS ì„¤ì • í™•ì¸

// 2. 401 Unauthorized
// â†’ í† í° ë§Œë£Œ ë˜ëŠ” ì˜ëª»ëœ credentials

// 3. 500 Internal Server Error
// â†’ Backend ë¡œê·¸ í™•ì¸

// 4. Network Error
// â†’ Backend ì„œë²„ ì‹¤í–‰ ì—¬ë¶€ í™•ì¸
// â†’ gatewayUrl ì„¤ì • í™•ì¸
```

### 2. ë””ë²„ê¹… íŒ

**console.log ì¶”ê°€:**

```typescript
async function handleLogin(provider, setIsLoading, setError) {
    console.log('ğŸ” ë¡œê·¸ì¸ ì‹œì‘:', provider);
    
    try {
        const response = await fetch(...);
        console.log('ğŸ“¡ ì‘ë‹µ:', response.status);
        
        const data = await response.json();
        console.log('ğŸ“¦ ë°ì´í„°:', data);
        
        // ...
    } catch (err) {
        console.error('âŒ ì—ëŸ¬:', err);
    }
}
```

---

## ì„±ëŠ¥ ìµœì í™”

### 1. useMemo ì‚¬ìš©

```typescript
// âœ… í•¸ë“¤ëŸ¬ë¥¼ ë©”ëª¨ì´ì œì´ì…˜
const handlers = useMemo(
    () => createSocialLoginHandlers(...),
    [dependencies]
);

// âŒ ë§¤ ë Œë”ë§ë§ˆë‹¤ ì¬ìƒì„±
const handlers = createSocialLoginHandlers(...);
```

### 2. ë¡œë”© ìƒíƒœ ë¶„ë¦¬

```typescript
// âœ… ê° ë²„íŠ¼ë§ˆë‹¤ ë…ë¦½ì ì¸ ë¡œë”© ìƒíƒœ
const [isGoogleLoading, setIsGoogleLoading] = useState(false);
const [isKakaoLoading, setIsKakaoLoading] = useState(false);

// âŒ í•˜ë‚˜ì˜ ë¡œë”© ìƒíƒœ ê³µìœ 
const [isLoading, setIsLoading] = useState(false);
```

---

## ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### 1. í™˜ê²½ ë³€ìˆ˜ ì‚¬ìš©

```typescript
// âœ… í™˜ê²½ ë³€ìˆ˜ ì‚¬ìš©
const gatewayUrl = process.env.NEXT_PUBLIC_GATEWAY_URL;

// âŒ í•˜ë“œì½”ë”©
const gatewayUrl = 'http://localhost:8080';
```

### 2. credentials: 'include'

```typescript
// ì¿ í‚¤ë¥¼ í¬í•¨í•˜ì—¬ ìš”ì²­
fetch(url, {
    credentials: 'include',  // ì¤‘ìš”!
    // ...
});
```

### 3. HTTPS ì‚¬ìš©

í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ë°˜ë“œì‹œ HTTPS ì‚¬ìš©

---

## í…ŒìŠ¤íŠ¸ ì „ëµ

### 1. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

```typescript
// Mock setter ì£¼ì…
const mockSetError = jest.fn();
const mockSetIsLoading = jest.fn();

const handlers = createSocialLoginHandlers(
    mockSetIsLoading,
    mockSetIsLoading,
    mockSetIsLoading,
    mockSetIsLoading,
    mockSetError
);

// í…ŒìŠ¤íŠ¸
handlers.handleGoogleLogin();
expect(mockSetIsLoading).toHaveBeenCalledWith(true);
```

### 2. í†µí•© í…ŒìŠ¤íŠ¸

```typescript
// Backend API mock
fetchMock.mockResponseOnce(JSON.stringify({
    success: true,
    authUrl: 'https://accounts.google.com/...'
}));

// í•¸ë“¤ëŸ¬ ì‹¤í–‰
await handlers.handleGoogleLogin();

// ê²€ì¦
expect(window.location.href).toBe('https://accounts.google.com/...');
```

---

## ì°¸ê³  ìë£Œ

- [IIFE íŒ¨í„´](https://developer.mozilla.org/ko/docs/Glossary/IIFE)
- [í´ë¡œì €](https://developer.mozilla.org/ko/docs/Web/JavaScript/Closures)
- [í•¨ìˆ˜ ì„ ì–¸ì‹ vs í™”ì‚´í‘œ í•¨ìˆ˜](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Functions/Arrow_functions)
- [ì˜ì¡´ì„± ì£¼ì…](https://en.wikipedia.org/wiki/Dependency_injection)
- [useMemo Hook](https://react.dev/reference/react/useMemo)

